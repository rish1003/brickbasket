<h2>Edit Product</h2>

<form method="POST" enctype="multipart/form-data">
    {% csrf_token %}

    <label>Product Name</label>
    <input type="text" name="name" value="{{ product.name }}" required><br><br>

    <label>Description</label>
    <textarea name="description">{{ product.description }}</textarea><br><br>

    <label>Category</label>
    <select name="category">
        {% for cat in categories %}
        <option value="{{ cat.id }}" {% if product.category.id == cat.id %}selected{% endif %}>
            {{ cat.name }}
        </option>
        {% endfor %}
    </select><br><br>

    <label>Price</label>
    <input type="number" step="0.01" name="price" value="{{ product.price }}" required><br><br>

    <label>Unit</label>
    <input type="text" name="unit" value="{{ product.unit }}" required><br><br>

    <label>Stock</label>
    <input type="number" name="stock" value="{{ product.stock }}" required><br><br>

    <label>Current Image</label><br>
    {% if product.image %}
        <img src="{{ product.image.url }}" width="100"><br><br>
    {% endif %}

    <label>Upload New Image (optional)</label>
    <input type="file" name="image"><br><br>

    <button type="submit">Update Product</button>
</form>
